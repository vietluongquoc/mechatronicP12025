#include <16F887.h>
#fuses NOWDT, XT, NOMCLR     // XT dùng cho th?ch anh 12MHz ngoài
#use delay(clock=12000000)   // Ð?t clock = 12MHz

#define MOTOR_IN1  PIN_C0
#define MOTOR_IN2  PIN_C1
#define LIMIT_SW   PIN_A1

void motor_stop() {
   output_low(MOTOR_IN1);
   output_low(MOTOR_IN2);
}

void motor_forward() {
   output_high(MOTOR_IN1);
   output_low(MOTOR_IN2);
}

void main() {
   set_tris_a(0xFF);  // RA1 input
   set_tris_c(0x00);  // RC0, RC1 output

   motor_forward();   // Quay thu?n

   while (true) {
      if (input(LIMIT_SW)) {
         motor_stop();  // D?ng khi nh?n công t?c hành trình
      }
   }
}

